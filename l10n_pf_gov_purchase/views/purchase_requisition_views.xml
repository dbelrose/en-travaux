<odoo>
    <record id="view_purchase_requisition_form" model="ir.ui.view">
        <field name="name">purchase.requisition.form.inherit</field>
        <field name="model">purchase.requisition</field>
        <field name="inherit_id" ref="purchase_gov_pf.view_purchase_requisition_form_gov_pf"/>
<!--        <field name="inherit_id" ref="purchase_requisition.view_purchase_requisition_form"/>-->
<!--        <field name="priority">1</field>-->
        <field name="arch" type="xml">
            <xpath expr="//field[@name='line_ids']/tree" position="inside">
                <button name="duplicate_requisition_line"
                        type="object"
                        class="oe_highlight"
                        icon="fa-clone"
                        string=" Dupliquer"
                />
            </xpath>

            <xpath expr="//tree/field[@name='account_analytic_id']" position="attributes">
                <attribute name="string">Article budgétaire</attribute>
                <attribute name="optional">show</attribute>
            </xpath>

            <xpath expr="//form/sheet/notebook" position="after">
                <button name="copy_analytic_requisition_tags"
                        type="object"
                        string=" Copier les imputations budgétaires"
                        icon="fa-clone"
                        class="oe_highlight"
                        attrs="{'invisible': [('state', '!=', 'draft')]}"
                />
            </xpath>

            <!-- Remplacer le premier bouton -->
<!--            <xpath expr="//form/header/button[1]"-->
<!--                   position="replace">-->
<!--                <button name="action_view_purchase_orders"-->
<!--                        type="object"-->
<!--                        string="Nouveau devis"-->
<!--                        attrs="{'invisible': [('state', '!=', 'open')]}"/>-->
<!--            </xpath>-->

            <!-- Remplacer le premier bouton -->
<!--            <xpath expr="//form/header/button[2]"-->
<!--                   position="replace">-->
<!--                <button name="action_view_purchase_orders"-->
<!--                        type="object"-->
<!--                        string="Nouveau devis"-->
<!--                        attrs="{'invisible': [('state', '!=', 'open')]}"/>-->
<!--            </xpath>-->

            <!-- Remplacer le deuxième bouton -->
<!--            <xpath expr="//form/header/button[2]"-->
<!--            <xpath expr="//form/header"-->
<!--                   position="inside">-->
<!--                <button name="action_view_purchase_orders"-->
<!--                        type="object"-->
<!--                        string="Nouveau devis"-->
<!--                        class="btn-primary"-->
<!--                        attrs="{'invisible': [('state', 'not in', ('in_progress', 'ongoing'))]}"/>-->
<!--            </xpath>-->
        </field>
    </record>

</odoo>
<!--                        attrs="{'invisible': [('state', '!=', 'draft')]}"-->
