<?xml version="1.0" encoding="utf-8"?>
<odoo>

        <record id="seac_form_view" model="ir.ui.view">
            <field name="name">manureva.seac.form</field>
            <field name="model">manureva.seac</field>
            <field name="arch" type="xml">
                <form string="Mouvement">
                    <sheet>
                        <group>
                            <group>
                                <field name="aerodrome_id" string="Aérodrome source"/>
                                <field name="usager_id" string="Opérateur"/>
                                <field name="vol" string="Numéro de vol"/>
                                <field name="circonstance" string="Circonstance du vol"/>
                                <field name="mouvement" string="Mouvement  départ/arrivée"/>
                                <field name="aerod_prov_dest" string="Aérodrome de provenance/destination"/>
                                <field name="pax_plus" string="Passagers totaux"/>
                                <field name="pax_moins" string="Passagers en transit"/>
                                <field name="pax_2ans" string="Passagers de moins de deux ans sur l’étape de vol"/>
                            </group>
                            <group>
                                <field name="aeronef_id" string="Immatriculation de l'aéronef"/>
                                <field name="date" string="Date bloc réelle"/>
                                <field name="heure_texte" string="Heure bloc réelle"/>
                                <field name="date_piste_reelle" string="Date piste réelle"/>
                                <field name="heure_piste_relle" string="Heure piste réelle"/>
                                <field name="piste_utilisee" string="Piste utilisée"/>
                                <field name="balisage" string="Balisage en service"/>
                                <field name="paxlnp1"/>
                                <field name="paxlnp2"/>
                                <field name="paxlnp3"/>
                                <field name="paxlnp4"/>
                                <field name="paxlnp5"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_seac_tree" model="ir.ui.view">
            <field name="name">manureva.seac.tree</field>
            <field name="model">manureva.seac</field>
            <field name="arch" type="xml">
                <tree string="Vols de transport aérien public">
                    <field name="aerodrome_id" string="Aérodrome source"/>
                    <field name="usager_id" string="Opérateur"/>
                    <field name="vol" string="Numéro de vol"/>
                    <field name="circonstance" string="Circonstance du vol"/>
                    <field name="mouvement" string="Mouvement  départ/arrivée"/>
                    <field name="aerod_prov_dest" string="Aérodrome de provenance/destination"/>
                    <field name="pax_plus" string="Passagers totaux"/>
                    <field name="pax_2ans" string="Passagers de moins de deux ans sur l’étape de vol"/>
                    <field name="pax_moins" string="Passagers en transit"/>
                    <field name="aeronef_id" string="Immatriculation de l'aéronef"/>
                    <field name="date" string="Date bloc réelle"/>
                    <field name="heure_texte" string="Heure bloc réelle"/>
                    <field name="date_piste_reelle" string="Date piste réelle"/>
                    <field name="heure_piste_relle" string="Heure piste réelle"/>
                    <field name="piste_utilisee" string="Piste utilisée"/>
                    <field name="balisage" string="Balisage en service"/>
                    <field name="paxlnp1"/>
                    <field name="paxlnp2"/>
                    <field name="paxlnp3"/>
                    <field name="paxlnp4"/>
                    <field name="paxlnp5"/>
                </tree>
            </field>
        </record>

        <record id="seac_search_view" model="ir.ui.view">
            <field name="name">manureva.seac.search</field>
            <field name="model">manureva.seac</field>
            <field name="arch" type="xml">
                <search string="Rechercher les mouvements">
                    <field name="aerodrome_id" string="Aérodrome"/>
                    <field name="usager_id" string="Opérateur"/>
                    <field name="aeronef_id" string="Aéronef"/>
                    <field name="annee" string="Année bloc réelle"/>
                    <field name="date" string="Date bloc réelle"/>
                    <field name="heure_texte" string="Heure bloc réelle"/>
                    <filter string="Départs"
                            name="mouvement"
                            domain="[('mouvement','=','D')]"/>
                    <filter string="Arrivées"
                            name="mouvement"
                            domain="[('mouvement','=','A')]"/>
                    <separator/>
                    <filter string="Balisage en service"
                            name="balisage"
                            domain="[('balisage','=','S')]"/>
                    <filter string="Balisage non en service"
                            name="balisage"
                            domain="[('balisage','=','N')]"/>
                    <separator/>
                    <filter name="annee_en_cours"
                            string="Année calendaire en cours"
                            domain="[('annee', '=', context_today().strftime('%Y'))]" />
                    <filter name="annee_precedente"
                            string="Année calendaire précédente"
                            domain="[('annee', '=', (context_today() + relativedelta(years=-1)).strftime('%Y'))]" />
                    <filter name="annee_glissante"
                            string="Année glissante"
                            domain="[('date', '&gt;=', (context_today() - datetime.timedelta(days=365)).strftime('%%Y-%%m-%%d'))]"/>
                    <group expand="1" string="Group By">
                        <filter string="Aérodrome source" name="aerodrome_id" domain="[]"
                                context="{'group_by':'aerodrome_id'}"/>
                        <filter string="Aéronef" name="aeronef_id" domain="[]"
                                context="{'group_by':'aeronef_id'}"/>
                        <filter string="Date bloc réelle" name="date" domain="[]"
                                context="{'group_by':'date'}"/>
                        <filter string="Mouvement" name="mouvement" domain="[]"
                                context="{'group_by':'mouvement'}"/>
                        <filter string="Opérateur" name="usager_id" domain="[]"
                                context="{'group_by':'usager_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_seac" model="ir.actions.act_window">
            <field name="name">Vols de transport aérien public</field>
            <field name="res_model">manureva.seac</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{"search_default_annee_glissante":1}</field>
            <field name="domain">[]</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Importez votre premier fichier de mouvements
                </p>
            </field>
        </record>

    	<menuitem 	id="menu_seac_operateur"
					parent="menu_fichier_tiers"
					name="Vols de transport aérien public - Opérateur"
					action="action_seac"
                     sequence="10"
        />

</odoo>