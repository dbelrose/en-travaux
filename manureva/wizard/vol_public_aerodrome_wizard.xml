<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="vol_public_aerodrome_wizard_form" model="ir.ui.view">
        <field name="name">manureva.vol_public_aerodrome_wizard.form</field>
        <field name="model">manureva.vol_public_aerodrome_wizard</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="multi_step_wizard.multi_step_wizard_form"/>
        <field name="arch" type="xml">
            <xpath expr="//footer" position="before">
              <header>
                <field name="state" widget="statusbar"/>
              </header>
            <h1>
              <field name="fc02"
                    attrs="{'readonly': [('state', '!=', 'start')],'required':[('state','=','start')]}"
                    class="oe_inline"
                    placeholder="Aérodrome"/>
            </h1>
            <h1>
              <field name="fc03" domain="[('cie_oaci','!=',None)]"
                    attrs="{'readonly': [('state', '!=', 'operateur')],'required':[('state','=','operateur')]}"
                    class="oe_inline"
                    placeholder="Opérateur"/>
            </h1>
            <group name="mouvement" attrs="{'invisible': [('state', '!=', 'mouvement')]}">
                <field name="fc27" attrs="{'required':[('state','=','mouvement')]}" />
                <field name="fc15" attrs="{'required':[('state','=','mouvement')]}" />
                <field name="fc32" attrs="{'required':[('state','=','mouvement')]}" />
                <field name="fc33" attrs="{'required':[('state','=','mouvement')]}" />
                <field name="fc43" attrs="{'required':[('state','=','mouvement')]}" />
            </group>
            <group name="validation" attrs="{'invisible': [('state', '!=', 'validation')]}">
                <field name="fc27" attrs="{'readonly':[('state','=','validation')]}" />
                <field name="fc15" attrs="{'readonly':[('state','=','validation')]}" />
                <field name="fc32" attrs="{'readonly':[('state','=','validation')]}" />
                <field name="fc33" attrs="{'readonly':[('state','=','validation')]}" />
                <field name="fc43" attrs="{'readonly':[('state','=','validation')]}" />
            </group>
            <group name="final" attrs="{'invisible': [('state', '!=', 'final')]}">
              <p>Les mouvements de l'aérodrome ont été pris en compte.</p>
            </group>
            </xpath>
            <xpath expr="//button[@name='open_next']" position="replace">
                <button name="open_next" string="Suivant" type="object"
                        class="btn-primary" attrs="{'invisible': ['|',('state', '=', 'final'),
                        ('state', '=', 'validation')]}"/>
            </xpath>
            <xpath expr="//button[@name='open_previous']" position="replace">
                <button name="open_previous" string="Retour" type="object"
                        class="btn btn-default" attrs="{'invisible': [('allow_back', '=', False)]}"/>
            </xpath>
            <xpath expr="//button[@special='cancel']" position="replace">
                <button special="save" string="Valider" type="object"
                        class="btn-primary" attrs="{'invisible': [('state', '!=', 'validation')]}"/>
                <button special="cancel" string="Annuler"
                        class="btn-secondary" attrs="{'invisible': [('state', '=', 'final')]}"/>
            </xpath>
        </field>
    </record>

        <record id="vol_public_aerodrome_wizard"  model="ir.actions.act_window">
            <field name="name">Vol de transport aérien public - Aérodrome</field>
            <field name="res_model">manureva.vol_public_aerodrome_wizard</field>
            <field name="view_mode">form"</field>
            <field name="target">new</field>
        </record>
</odoo>